# Store

Для эффективного отображения списков сущностей, чтобы при изменении одной записи не перерисовывается весь список, необходимо разделить описание всех сущностей (byId) и списка идентификаторов сущностей (ids).

Контейнер списка использует только ids для отрисовки контейнеров элемента списка. Ids хранит только идентификаторы в том порядке, в котором они хранятся в БД. Только в случае изменения порядка элементов или изменения количества элементов в нем должны вызывать перерисовку контейнера.

Контейнер эелемента списка смотрит на byId[id] и вызывает перерисовку если содержимое объекта по указанному в id ключу будут измененно

Для фильтрации todos списке используем todoFolter: byId, byDueDate, byStatus

Так как в левой части экрана мы можем выбрать лищь один пукт (фильтр или категорию) нам необходимо хранить этот выбор

Составим схему данных для redux

Очень важен порядок сущностей в root редьюсере
// порядок редьюсеров очень важен при обновлении всех сущностей
// с action UPDATE_ENTITIES - делаем вставку в сущности по мереи их
// зависимостей друг от друга чтобы при проверках не нарушалась
// ссылочная целостность данных

```ts
{
    todos: {
        byId: Record<number, Todo>,
        ids: number[]
    },
    categories: {
        byId: Record<number, Category>,
        ids: number[]
    },
    icons:  {
        byId: Record<number, Icon>,
        ids: number[]
    },,
    statuses: {
        byId: Record<number, Status>,
        ids: number[]
    },
}
```
